{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions for persisting and retrieving user state related to recipes, such as favorites and last search queries, using local storage. It includes functions to safely access storage, get/set favorites, toggle favorites, and handle last search data, with considerations for non-browser environments.", "external_files": [], "external_methods": [], "published": ["getFavorites", "setFavorites", "toggleFavorite", "isFavorite", "getLastSearch", "setLastSearch", "KEYS"], "classes": [], "methods": [{"name": "safeGetStorage()", "description": "Provides a safe way to access the window.localStorage object, returning null if not available or inaccessible.", "scope": "", "scopeKind": ""}, {"name": "getFavorites()", "description": "Retrieves an array of favorite recipe IDs from local storage.", "scope": "", "scopeKind": ""}, {"name": "setFavorites(ids)", "description": "Stores an array of recipe IDs as favorites in local storage.", "scope": "", "scopeKind": ""}, {"name": "toggleFavorite(id)", "description": "Adds or removes a recipe ID from the favorites list and updates local storage accordingly.", "scope": "", "scopeKind": ""}, {"name": "isFavorite(id)", "description": "Checks if a given recipe ID is marked as favorite.", "scope": "", "scopeKind": ""}, {"name": "getLastSearch()", "description": "Retrieves the last search string from local storage.", "scope": "", "scopeKind": ""}, {"name": "setLastSearch(query)", "description": "Stores the provided search string as the last search query.", "scope": "", "scopeKind": ""}], "calls": ["safeGetStorage()", "ls.getItem()", "ls.setItem()", "JSON.parse()", "JSON.stringify()"], "search-terms": ["localStorage", "favorites", "recipe IDs", "last search", "storage utilities", "browser environment"], "state": 2, "file_id": 21, "knowledge_revision": 56, "git_revision": "", "ctags": [{"_type": "tag", "name": "FAVORITES_KEY", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/utils/storage.js", "pattern": "/^  FAVORITES_KEY,$/", "language": "JavaScript", "kind": "field", "scope": "KEYS", "scopeKind": "class"}, {"_type": "tag", "name": "FAVORITES_KEY", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/utils/storage.js", "pattern": "/^const FAVORITES_KEY = 'recipe:favorites';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "KEYS", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/utils/storage.js", "pattern": "/^export const KEYS = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "LAST_SEARCH_KEY", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/utils/storage.js", "pattern": "/^const LAST_SEARCH_KEY = 'recipe:lastSearch';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getFavorites", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/utils/storage.js", "pattern": "/^export function getFavorites() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getLastSearch", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/utils/storage.js", "pattern": "/^export function getLastSearch() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isFavorite", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/utils/storage.js", "pattern": "/^export function isFavorite(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "safeGetStorage", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/utils/storage.js", "pattern": "/^function safeGetStorage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "setFavorites", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/utils/storage.js", "pattern": "/^export function setFavorites(ids) {$/", "language": "JavaScript", "kind": "function", "signature": "(ids)"}, {"_type": "tag", "name": "setLastSearch", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/utils/storage.js", "pattern": "/^export function setLastSearch(query) {$/", "language": "JavaScript", "kind": "function", "signature": "(query)"}, {"_type": "tag", "name": "toggleFavorite", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/utils/storage.js", "pattern": "/^export function toggleFavorite(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}], "hash": "bf58cb2dfeab7c2ea6445bc31d8884ef", "format-version": 4, "code-base-name": "recipe_app_frontend", "filename": "recipe_app_frontend/src/utils/storage.js", "fields": [{"name": "FAVORITES_KEY,", "scope": "KEYS", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"56": ""}]}