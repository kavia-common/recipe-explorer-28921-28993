{"is_source_file": true, "format": "JavaScript", "description": "This file defines an API abstraction layer for handling recipe data, including functions for listing recipes, retrieving recipes by ID, searching recipes, toggling favorites, and getting favorites. It supports both mock data and real REST API calls based on environment configuration.", "external_files": ["../config/env", "./client", "../data/mockRecipes", "../utils/storage", "../types/recipe"], "external_methods": ["requestJson", "lsGetFavorites", "lsToggleFavorite"], "published": ["listRecipes", "getRecipeById", "searchRecipes", "toggleFavorite", "getFavorites", "isMock"], "classes": [], "methods": [{"name": "delay()", "description": "Simulates network latency in mock mode with a random delay between 200-400ms.", "scope": "", "scopeKind": ""}, {"name": "listRecipes()", "description": "Returns all recipes; either from local mock data or via GET request to /recipes.", "scope": "", "scopeKind": ""}, {"name": "getRecipeById(id)", "description": "Fetches a single recipe by ID; from local mock data in mock mode or via GET request to /recipes/:id.", "scope": "", "scopeKind": ""}, {"name": "searchRecipes(query)", "description": "Searches recipes by a text query; filters local mock data in mock mode or calls GET /recipes/search?q=.", "scope": "", "scopeKind": ""}, {"name": "toggleFavorite(id)", "description": "Adds or removes a recipe ID from local favorites storage, simulating network delay.", "scope": "", "scopeKind": ""}, {"name": "getFavorites()", "description": "Retrieves the list of favorite recipe IDs from local storage, with simulated delay.", "scope": "", "scopeKind": ""}], "calls": ["requestJson('/recipes')", "requestJson(`/recipes/${encodeURIComponent(id)}`)", "requestJson(path)", "lsToggleFavorite(String(id))", "lsGetFavorites()"], "search-terms": ["recipesApi", "mockRecipes", "toggleFavorite", "requestJson", "local storage", "searchRecipes", "listRecipes", "getRecipeById"], "state": 2, "file_id": 25, "knowledge_revision": 71, "git_revision": "be622aaea8f6b36c2974d261aaac5d460717f881", "revision_history": [{"68": ""}, {"71": "be622aaea8f6b36c2974d261aaac5d460717f881"}], "ctags": [{"_type": "tag", "name": "delay", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/api/recipesApi.js", "pattern": "/^function delay() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getFavorites", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/api/recipesApi.js", "pattern": "/^export async function getFavorites() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getRecipeById", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/api/recipesApi.js", "pattern": "/^export async function getRecipeById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "isMock", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/api/recipesApi.js", "pattern": "/^export const isMock = USE_MOCK;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listRecipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/api/recipesApi.js", "pattern": "/^export async function listRecipes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "searchRecipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/api/recipesApi.js", "pattern": "/^export async function searchRecipes(query) {$/", "language": "JavaScript", "kind": "function", "signature": "(query)"}, {"_type": "tag", "name": "toggleFavorite", "path": "/home/kavia/workspace/code-generation/recipe-explorer-28921-28993/recipe_app_frontend/src/api/recipesApi.js", "pattern": "/^export async function toggleFavorite(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}], "hash": "526ff5858ce3561415e9d4c34eba442d", "format-version": 4, "code-base-name": "recipe_app_frontend", "filename": "recipe_app_frontend/src/api/recipesApi.js"}